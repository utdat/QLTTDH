<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.quanlytrungtamdayhoc.mapper.SubjectMapper">
	<resultMap id="BaseResultMap"
		type="com.quanlytrungtamdayhoc.dbo.Subject">
		<id column="SUB_ID" jdbcType="INTEGER" property="subId" />
		<result column="SUB_NAME" jdbcType="VARCHAR" property="subName" />
		<result column="SUB_STARTDATE" jdbcType="DATE"
			property="subStartdate" />
		<result column="SUB_SCHEDULE" jdbcType="VARCHAR"
			property="subSchedule" />
		<result column="SUB_ROOM" jdbcType="VARCHAR" property="subRoom" />
		<result column="SUB_TUITION" jdbcType="INTEGER"
			property="subTuition" />

		<association property="teacher"
			javaType="com.quanlytrungtamdayhoc.dbo.Teacher">
			<id property="teaId" column="TEA_ID" />
			<result column="TEA_NAME" property="teaName" />
		</association>

	</resultMap>

	<select id="listSubjectById" resultMap="BaseResultMap"
		parameterType="map">
		SELECT * FROM SUBJECTS
		NATURAL JOIN TEACHERS WHERE
		TEACHERS.TEA_ID=#{tea_id} ORDER BY SUB_STARTDATE
	</select>

	<select id="listSubject" resultMap="BaseResultMap"
		parameterType="map">
		SELECT * FROM SUBJECTS
		NATURAL JOIN TEACHERS ORDER BY SUB_STARTDATE
	</select>

</mapper>